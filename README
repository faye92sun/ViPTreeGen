###
### ViPTreeGen ver 1.0 (2017-02-07)
### a command line tool for Viral Proteomic Tree (ViPTree) generation from a FASTA file of (genomic) sequences.
###
### Copyright: 2017 (C) Yosuke Nishimura (yosuke@kuicr.kyoto-u.ac.jp)
### Licence: MIT license
###

[description]
ViPTreeGen - a command line tool for viral proteomic tree generation from a FASTA file of (genomic) sequences.
ViPTreeGen is a part of the ViPTree server project (http://www.genome.jp/viptree).

If you use many sequences (e.g. >100) or large sequences (e.g. NCLDV genomes), it may take a long time.
In those cases, use '--ncpus' or '--queue' for parallel computating.

[usage]
$ ViPTreeGen <input fasta> <output dir> [options]

[dependencies]
    - tblastx              -- included in the BLAST+ program;
                              https://blast.ncbi.nlm.nih.gov/Blast.cgi?PAGE_TYPE=BlastDocs&DOC_TYPE=Download
    - ruby (ver >=2.0)

  (for tree generation)
    - R (ver >=3.0)
    - R Package 'ape'      -- try install.packages('ape') in R terminal
    - R Package 'phangorn' -- try install.packages('phangorn') in R terminal

[options]
  (general)
    -h, --help
    -v, --version

  (tblastx)
    --cutlen       [>=10000]   (default: 100000)    -- length to split input seqs for speed up calculation
    --dbsize       [int]       (default: 200000000)
    --matrix       [str]       (default: BLOSUM45)
    --evalue       [num]       (default: 1e-2)
    --min-idt      [int]       (default: 30)
    --min-aalen    [int]       (default: 30)

  (tree)
    --notree                   (default: off)       -- generate only sim/dist matrix
    --method       [nj|bionj]  (default: bionj)     -- proteomic tree calculation method

  (use GNU parallel)
    --ncpus        [int]                            -- number of simaltaneous jobs

  (for icr user)                                    -- for computation in the ICR supercomputer system
    --queue        [JP1]                            -- queue to calculate

[output files]
result/all.sim.matrix              -- similarity (SG score) matrix
result/all.dist.matrix             -- distance (1-SG score) matrix
result/all.[bio]nj.[a|de]sc.newick -- Newick files of the viral proteomic tree, midpoint rooted and ladderized
                                      asc: nodes with fewer children sort before nodes with more children.
                                      desc: nodes with more children sorting before nodes with fewer children.
